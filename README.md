# NextDrive - File Sharing Website

This is a simple file sharing website built with PHP, MySQL, and Tailwind CSS.

## Features:
- User Registration and Login
- File Upload with auto-delete functionality
- File Download with download counter
- Admin Dashboard for user and file management
- Responsive UI with Tailwind CSS
- Dark Mode Toggle
- Basic security enhancements (prepared statements, password hashing, session management)

## Setup Instructions:

1.  **Database:**
    - Create a MySQL database named `project`.
    - Run the following SQL queries to create the necessary tables:

    ```sql
    -- Table for users
    CREATE TABLE `users` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `name` varchar(255) NOT NULL,
      `username` varchar(255) NOT NULL UNIQUE,
      `email` varchar(255) NOT NULL UNIQUE,
      `password` varchar(255) NOT NULL,
      `registration_date` datetime DEFAULT CURRENT_TIMESTAMP,
      `role` enum('user','admin') DEFAULT 'user',
      PRIMARY KEY (`id`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

    -- Table for uploaded files
    CREATE TABLE `uploaded_files` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `user_id` int(11) NOT NULL,
      `filename` varchar(255) NOT NULL UNIQUE,
      `original_filename` varchar(255) NOT NULL,
      `size` bigint(20) NOT NULL,
      `uploaded_at` datetime DEFAULT CURRENT_TIMESTAMP,
      `delete_date` datetime DEFAULT NULL,
      `download_count` int(11) DEFAULT '0',
      PRIMARY KEY (`id`),
      KEY `user_id` (`user_id`),
      CONSTRAINT `uploaded_files_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

    -- Table for admin (separate for dedicated admin login, or use 'users' table with 'admin' role)
    -- If you use the 'role' column in the 'users' table, you might not need this separate 'Admin' table.
    -- For this project, the admin login uses a separate 'Admin' table for simplicity as per original context.
    CREATE TABLE `Admin` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `username` varchar(255) NOT NULL UNIQUE,
      `password` varchar(255) NOT NULL, -- Store hashed password in production!
      PRIMARY KEY (`id`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

    -- Insert a sample admin user (for the 'Admin' table)
    INSERT INTO `Admin` (`username`, `password`) VALUES ('admin', 'admin123'); -- Change this password!

    -- Or, if using 'users' table for admin role:
    -- INSERT INTO `users` (`name`, `username`, `email`, `password`, `role`) VALUES ('Admin User', 'admin', 'admin@example.com', '$2y$10$YOUR_HASHED_PASSWORD_HERE', 'admin');
    -- (Replace YOUR_HASHED_PASSWORD_HERE with a password hash generated by password_hash('your_password', PASSWORD_DEFAULT))
    ```

2.  **Place Files:**
    -   Place all the PHP files (`admin.php`, `admin_dashboard.php`, `home.php`, `login.php`, `sign.php`, `download.php`, `logout.php`, `phpinfo.php`, `README.md`) into your web server's document root (e.g., `htdocs` for XAMPP, `www` for WAMP, or `/var/www/html` for Apache on Linux).
    -   Create an empty directory named `uploads` in the same root directory. Ensure this directory has write permissions for your web server.

3.  **Configure Database Connection:**
    -   Open each PHP file and update the `$conn = new mysqli(...)` line with your actual database credentials (hostname, username, password, database name, and port if not default 3306). The current code uses `localhost`, `root`, `rahul123`, `project`, `3307`.

4.  **Access:**
    -   Open your web browser and navigate to `http://localhost/file_sharing_app/sign.php` to register a new user.
    -   Or `http://localhost/file_sharing_app/admin.php` to log in as admin.

## Security Considerations:

-   **Admin Password:** The `Admin` table currently stores the password in plain text. **For a production environment, you MUST hash the admin password** using `password_hash()` and verify with `password_verify()`, similar to how user passwords are handled.
-   **Error Reporting:** Disable `display_errors` in `php.ini` on a production server to prevent sensitive information leakage.
-   **File Uploads:** While basic validation is in place, consider more advanced checks for file integrity and malicious content scanning for a production system.
-   **HTTPS:** Always use HTTPS for a live website to encrypt data in transit.
-   **Session Security:** Ensure `session.cookie_httponly` and `session.cookie_secure` are enabled in `php.ini`.